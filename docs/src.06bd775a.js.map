{"version":3,"sources":["config.json","src/fetchData.js","src/index.js"],"names":["module","exports","env","CONTENTFUL_SPACE_ID","CONTENTFUL_ACCESS_TOKEN","fetchData","callback","loading","API_BASE_URL","API_SPACE_ID","contentfulApiConfig","API_TOKEN","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","response","JSON","parse","responseText","console","log","onloadstart","_","requestAnimationFrame","removeAttribute","onerror","e","onloadend","setAttribute","send","titleBanner","document","getElementById","querySelector","images","getElementsByClassName","dateElement","presentation","menu","extra","months","loadImages","assets","count","asset","url","fields","file","src","animateit","mainContent","sections","addEventListener","curPos","scrollTop","width","Math","max","documentElement","clientWidth","window","innerWidth","clientHeight","innerHeight","body","offsetHeight","classList","contains","replace","section","offsetTop","outerHeight","add","items","includes","idImgPresentation","imagesLandingPage","map","id","sys","Asset","filter","parentElement","style","backgroundImage","textContent","blogText","generalBlogText","dateStr","dateOfWedding","date","Date","getDate","getMonth","goToSection","event","preventDefault","scrollIntoView"],"mappings":";;;AAAAA,OAAOC,QAAQ,CAACC,IAAI,CAACC,oBAAoB,eAAeC,wBAAwB;;ACgDjEC,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAhDf,IAAA,EAAA,EAAA,QAAA,mBAgDeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GA9Cf,IAAMA,EAAY,SAACC,EAAUC,GACrBC,IACAC,EAAeC,EAAoBR,QAAAA,IAAIC,oBACvCQ,EAAYD,EAAoBR,QAAAA,IAAIE,wBACtCQ,EAAM,IAAIC,eACdD,EAAIE,KACF,MACGN,GAAAA,OANgB,6BAMOC,YAAAA,OAAAA,EAAqCE,0BAAAA,OAAAA,IAEjEC,EAAIG,mBAAqB,WAMnBH,GAAmB,IAAnBA,EAAII,YAAmC,MAAfJ,EAAIK,OAAgB,CAC1CC,IAAAA,EAAWC,KAAKC,MAAMR,EAAIS,cAC9BC,QAAQC,IAAIL,GACZZ,EAASY,KAITX,IACFK,EAAIY,YAAc,SAAAC,GAChBC,OAAAA,sBAAsB,SAAAD,GAAKlB,OAAAA,EAAQoB,gBAAgB,aACrDf,EAAIgB,QAAU,SAAAC,GAAKP,OAAAA,QAAQC,IAAIM,IAC/BjB,EAAIkB,UAAY,SAAAL,GACdC,OAAAA,sBAAsB,SAAAD,GAAKlB,OAAAA,EAAQwB,aAAa,SAAU,YAE9DnB,EAAIoB,QAiBS3B,EAAAA,EAAAA,QAAAA,QAAAA;;ACiCf,aAjFA,QAAA,gBAGA,IAAA,EAAA,EAAA,QAAA,gBA8EA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA5EA,IAAM4B,EAAcC,SAASC,eAAe,gBACtC5B,EAAU2B,SAASE,cAAc,oBACjCC,EAASH,SAASI,uBAAuB,YACzCC,EAAcL,SAASE,cAAc,iBACrCI,EAAeN,SAASE,cAC5B,uCAEIK,EAAOP,SAASE,cAAc,WAC9BM,EAAQR,SAASE,cAAc,sBAC/BO,EAAS,CACb,UACA,UACA,QACA,QACA,OACA,QACA,QACA,SACA,WACA,UACA,WACA,YAEIC,EAAa,SAAAC,GACbC,IAAAA,EAAQ,EADe,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAETD,IAAAA,IAAQ,EAARA,EAAAA,EAAQ,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EAAA,CAAjBE,IACHC,EADoB,EAAA,MACRC,OAAOC,KAAKF,IAC5BX,EAAOS,KAASK,IAAMH,GAJG,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAOvBI,EAAY,SAAA3B,GACV4B,IAAAA,EAAcnB,SAASC,eAAe,kBACtCmB,EAAWpB,SAASI,uBAAuB,WAkBjDe,EAAYE,iBAAiB,SAjBT,SAAA9B,GACZ+B,IAAAA,EAASH,EAAYI,UACrBC,EAAQC,KAAKC,IAAI1B,SAAS2B,gBAAgBC,YAAaC,OAAOC,YAAc,GACnEL,KAAKC,IAAI1B,SAAS2B,gBAAgBI,aAAcF,OAAOG,aAAe,GACjFR,EAAQ,MACNF,EAAStB,SAASiC,KAAKC,aAAe,IAAwB3B,EAAK4B,UAAUC,SAAS,WACxF7B,EAAK4B,UAAUE,QAAQ,UAAW,eACzBf,EAAStB,SAASiC,KAAKC,aAAe,IAAM3B,EAAK4B,UAAUC,SAAS,gBAC7E7B,EAAK4B,UAAUE,QAAQ,cAAe,YARnB,IAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAWHjB,IAAAA,IAAU,EAAVA,EAAAA,EAAU,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EAAA,CAArBkB,IAAAA,EAAqB,EAAA,MACxBA,EAAQC,UAAYV,OAAOW,YAAc,GAAKlB,GAChDgB,EAAQH,UAAUM,IAAI,YAbH,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,OAoBC,YAAxBzC,SAASlB,WACXkB,SAASqB,iBAAiB,mBAAoBH,GAE9CA,KAGF,EAAU,EAAA,SAAA,SAAyB,GAAtBwB,IAAAA,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,SACZC,EAAoBF,EAAM,GAAG3B,OAAO8B,kBAAkBC,IAC1D,SAAAC,GAAMA,OAAAA,EAAGC,IAAID,KAEfrC,EACEiC,EAASM,MAAMC,OAAO,SAAArC,GAAS+B,OAAAA,EAAkBD,SAAS9B,EAAMmC,IAAID,OAEtEhD,EAAYoD,cAAcC,MAAMC,gBAA0BV,QAAAA,OAAAA,EAASM,MAAM,GAAGlC,OAAOC,KAAKF,IAAxF,MACAf,EAAYuD,YAAcZ,EAAM,GAAG3B,OAAOwC,SAC1CjD,EAAagD,YAAcZ,EAAM,GAAG3B,OAAOyC,gBAC3ChD,EAAM8C,YAAcZ,EAAM,GAAG3B,OAAOyC,gBAChCC,IAAAA,EAAUf,EAAM,GAAG3B,OAAO2C,cAC1BC,EAAO,IAAIC,KAAKH,GACpBpD,EAAYR,aAAa,WAAY4D,GACrCpD,EAAYiD,YAAcK,EAAKE,UAAY,OAASpD,EAAOkD,EAAKG,aAC/DzF,GAEHwD,OAAOkC,YAAc,SAAAhB,GACnBlB,OAAOmC,MAAMC,iBACbjE,SAASC,eAAe8C,GAAImB","file":"src.06bd775a.js","sourceRoot":"..","sourcesContent":["module.exports={env:{CONTENTFUL_SPACE_ID:\"glv5vvf55jiq\",CONTENTFUL_ACCESS_TOKEN:\"l8M3azNCTjms7SXHHdli8KkIgOOddch8yXDoIHShnpE\"}};","import contentfulApiConfig from \"../config.json\";\n\nconst fetchData = (callback, loading) => {\n  const API_BASE_URL = \"https://cdn.contentful.com\";\n  const API_SPACE_ID = contentfulApiConfig.env.CONTENTFUL_SPACE_ID;\n  const API_TOKEN = contentfulApiConfig.env.CONTENTFUL_ACCESS_TOKEN;\n  var xhr = new XMLHttpRequest();\n  xhr.open(\n    \"GET\",\n    `${API_BASE_URL}/spaces/${API_SPACE_ID}/entries?access_token=${API_TOKEN}`\n  );\n  xhr.onreadystatechange = () => {\n    /*\n        if (xhr.readyState === 3) {\n          requestAnimationFrame(_ => loading.removeAttribute(\"hidden\"));\n        }\n        */\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      let response = JSON.parse(xhr.responseText);\n      console.log(response);\n      callback(response);\n      //requestAnimationFrame(_ => loading.setAttribute(\"hidden\", \"true\"));\n    }\n  };\n  if (loading) {\n    xhr.onloadstart = _ =>\n      requestAnimationFrame(_ => loading.removeAttribute(\"hidden\"));\n    xhr.onerror = e => console.log(e);\n    xhr.onloadend = _ =>\n      requestAnimationFrame(_ => loading.setAttribute(\"hidden\", \"true\"));\n  }\n  xhr.send();\n  /*\n    var client = contentful.createClient({\n      space: \"glv5vvf55jiq\",\n      accessToken: \"l8M3azNCTjms7SXHHdli8KkIgOOddch8yXDoIHShnpE\"\n    });\n    client.getEntry(\"958ve596xfbAQfzzOfjCD\").then(function(entry) {\n      // logs the entry metadata\n      console.log(entry.sys);\n  \n      // logs the field with ID title\n      console.log(entry.fields);\n      banner.src = entry.fields.photos.fields.file.url;\n    });\n    */\n};\n\nexport default fetchData;\n","import \"./styles.css\";\n\n// main.js\nimport fetchData from \"./fetchData\";\n\nconst titleBanner = document.getElementById(\"title-banner\");\nconst loading = document.querySelector(\".loading[hidden]\");\nconst images = document.getElementsByClassName(\"pictures\");\nconst dateElement = document.querySelector(\".wedding-date\");\nconst presentation = document.querySelector(\n  \".section-presentation .presentation\"\n);\nconst menu = document.querySelector('.navbar');\nconst extra = document.querySelector(\".info-extra .infos\");\nconst months = [\n  \"Janeiro\",\n  \"Feveiro\",\n  \"MarÃ§o\",\n  \"Abril\",\n  \"Maio\",\n  \"Junho\",\n  \"Julho\",\n  \"Agosto\",\n  \"Setembro\",\n  \"Outubro\",\n  \"Novembro\",\n  \"Dezembro\"\n];\nconst loadImages = assets => {\n  var count = 0;\n  for (let asset of assets) {\n    let url = asset.fields.file.url;\n    images[count++].src = url;\n  }\n};\nconst animateit = _ => {\n  const mainContent = document.getElementById(\"main-container\");\n  const sections = document.getElementsByClassName(\"section\");\n  const animatePage = _ => {\n    const curPos = mainContent.scrollTop;\n    const width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    const height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    if (width > 700) {\n      if (curPos > document.body.offsetHeight - 30 /* menu height */ && menu.classList.contains('top-nav')) {\n        menu.classList.replace('top-nav', 'sidebar-nav');\n      } else if (curPos < document.body.offsetHeight - 30 && menu.classList.contains('sidebar-nav')) {\n        menu.classList.replace('sidebar-nav', 'top-nav');\n      }\n    }\n    for (let section of sections) {\n      if (section.offsetTop - window.outerHeight / 2 <= curPos) {\n        section.classList.add(\"animate\");\n      }\n    }\n  };\n  mainContent.addEventListener(\"scroll\", animatePage);\n};\n\nif (document.readyState === 'loading') {\n  document.addEventListener(\"DOMContentLoaded\", animateit);\n} else {\n  animateit();\n}\n\nfetchData(({ items, includes }) => {\n  const idImgPresentation = items[0].fields.imagesLandingPage.map(\n    id => id.sys.id\n  );\n  loadImages(\n    includes.Asset.filter(asset => idImgPresentation.includes(asset.sys.id))\n  );\n  titleBanner.parentElement.style.backgroundImage = `url('${includes.Asset[1].fields.file.url}')`;\n  titleBanner.textContent = items[0].fields.blogText;\n  presentation.textContent = items[0].fields.generalBlogText;\n  extra.textContent = items[0].fields.generalBlogText;\n  var dateStr = items[0].fields.dateOfWedding;\n  var date = new Date(dateStr);\n  dateElement.setAttribute(\"datetime\", dateStr);\n  dateElement.textContent = date.getDate() + \" de \" + months[date.getMonth()];\n}, loading);\n\nwindow.goToSection = id => {\n  window.event.preventDefault();\n  document.getElementById(id).scrollIntoView();\n};\n"]}