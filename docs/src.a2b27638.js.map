{"version":3,"sources":["config.json","src/fetchData.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["module","exports","fetchData","callback","loading","API_BASE_URL","API_SPACE_ID","contentfulApiConfig","env","CONTENTFUL_SPACE_ID","API_TOKEN","CONTENTFUL_ACCESS_TOKEN","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","response","JSON","parse","responseText","console","log","onloadstart","_","requestAnimationFrame","removeAttribute","onerror","e","onloadend","setAttribute","send","titleBanner","document","getElementById","querySelector","images","getElementsByClassName","dateElement","presentation","menu","extra","months","loadImages","assets","count","asset","url","fields","file","src","animateit","mainContent","sections","animatePage","curPos","scrollTop","width","Math","max","documentElement","clientWidth","window","innerWidth","height","clientHeight","innerHeight","body","offsetHeight","classList","contains","replace","section","offsetTop","outerHeight","add","addEventListener","items","includes","idImgPresentation","imagesLandingPage","map","id","sys","Asset","filter","parentElement","style","backgroundImage","textContent","blogText","generalBlogText","dateStr","dateOfWedding","date","Date","getDate","getMonth","goToSection","event","preventDefault","scrollIntoView","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length"],"mappings":"AAAAA,AGAA,ACAA,IDAIuG,ACAAS,EJAE,CAAC/G,GIAG,GDAG,ACAAgH,CJAb,EGAgB,CHAC,GGAjB,ACAoB,CAAC,cAAD,CAApB;AJCE,SAAO;AACL,AGDJ,ACCA,AFFA,SCCST,ACCAU,UAAT,CAAoBC,IAApB,EAA0B,CJAC,AGD3B,GAA8B,WHArB;AAEL,AGDF,ACCA,MDDI,ACCAC,CDDCb,MCCM,GDDX,ACCcY,EDDE,ECCE,CAACE,SAAL,CJAe,CIA7B;AJFO,AGELd,ADAJ,ICAIA,SAAS,GAAGE,YAAY,EAAxB;AHHa,AGId,ACADW,CJJF,CIIEA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;ADCF,ACAC,AHNH,GGIE,MDEOhB,SAAP;AACD,ADLD;AEKEa,AFFF,EEEEA,EFFInF,KEEG,CAACuF,IAAR,CFFe,EEEAL,CFFGjF,GEEC,CAACsF,IAAL,AFFW,CEEDC,AFFEtF,KEEZ,CAAgB,GAAhB,EAAqB,CAArB,EFFG,CAAwB,CEED,GAA1B,GAAgC6D,IAAI,CAAC0B,EFFlC,CEE6B,AFFjD,EEEE;ADEF,ACDEP,AFFF,EEEEA,EFFI/G,EEEA,CAACuH,EDCElB,EDHI,GAAGvE,GEEd,CAAgB0F,GDClB,CDHwB,CAACxF,CCGD,MCDtB,CAA6BgF,KFFf,CAAuB,CEErC,EAAsCD,IAAI,CAACU,UFF7B,CEEd,AFFF;ACIE,ACDD,AHPD,ACKA,IDLM3H,ACKAmC,MAAM,GDLG,ACKAH,GDLG,KCKK,CAACI,GDLlBpC,SAAY,CAACC,QAAD,CCKH,CDLcC,ACKkB,ODL7B,EAAuB,CCK1B,CAAf;ACIE,AFRA,ACKF,IAAMmC,ECGA,AFRElC,SCKS,GDLG,ACKA6B,GDLG,KCKK,CAACE,aAAT,CAAuB,QDLzC,OCKkB,CAApB;ACII,ACDJ,AHPE,ACKF,IEEI0F,AFFEtF,EDLElC,IEQE,IAAIoG,ACDA,EFFI,CEED,CHPG,CEQV,ADHWxE,ECGjB,ACDJ,AHPuB3B,MCKM,CAAC6B,SDLa5B,GAApB,CAAwBC,ACK1B,CACnB,kBDNA,mBCKmB,CAArB;ACIG,AFRD,ACOF,GCDE,CAEE,ADDEgC,EDPE/B,ECOE,GCCCiG,ADDEzE,GCCT,CFRa,CEQD,EFRI3B,CCOC,CAAC6B,aAAT,CDP2B5B,ACOJ,GDPhB,CAAwBG,KCO/B,CAAb,iBDPE;AESE,ACFJ,AHNE,ACOF,IAAM+B,EDPA9B,EEQEgG,CCFCmB,AHNA,ACOE,GDPC,ACOE7F,GCCC,CFRCrB,EEQE,ACFlB,CDEmB,CDDG,CEDD,AFCEuB,GCCCuE,GAAG,CAACE,EFRhB,EAAV,CEQgB,CDDJ,CCCqBC,ADDE,KCCnB,CAAuB,cDD3B,CAAd,gDCCkB,CAAd;ACDF,AHNAlG,ACOF,EDPEA,ECOI+B,CDPD,CGMCmF,AHNAhH,IAAJ,ACOU,CDNR,ECMW,CACb,EEFA,AHNA,EGMgB,KFCH,EAEb,GDPKT,MCKQ,EAGb,IDVA,GCOa,EAIb,OAJa,EAKb,MALa,CDLeC,CCW5B,OANa,EAOb,EDdA,KCOa,EAQb,QARa,EASb,UATa,EAUb,MDfiEI,GCKpD,EAWb,IDlBA,MCOa,EAYb,UAZa,CAAf;ACCI,ACDA,QDCIkG,OAAJ,EAAa;AACX,ACDH,AHJDhG,ACiBF,EDjBEA,ECiBIgC,CDjBD,CAAC7B,OEKOgG,CDYG,GAAG,MCZI,CAACH,AFLtB,ECiBIhE,CDjBqB,IEKI,CAAC,CAAD,CAAR,CAAjB,CDYa,CAAAC,EDjBc,ICiBR,EAAI;ACXxB,AFLD,ACiBF,MAAIC,KAAK,GAAG,CAAZ;ACXC,ACDDgF,AFW2B,EEX3BA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,AFUyB,QEVrBC,KAAK,GAAG/F,QAAQ,CAACgG,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,ADQ2B,SCRpB,GAAP;AACD,ACFG,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AHHF,ACWyB,QDXrBvH,EGGEoG,CHHC,CAAChG,IGGI,CAAC+F,KHHT,KGGE,AHHiB,CGGCkB,AHHpB,IAAwBrH,CGGC,CAACuH,CAAD,AHHE,CGGP,AHHQlH,CGGCuG,IAA3B,CHHsB,KGGeR,AHHA,GAA3C,EAAgD,CGGC,CAACP,YAAP,EAAzC,EAAgE;ADGtE,ACFQS,AHHF,ACYJ,QETMA,CDECH,CFLC7F,QGGQ,AHHA,CEKlB,ACFmB+G,CDECjF,CFLC7B,EEKrB,CCFwB,CDEC,ACFAgH,AHHA,ACYLtF,CETI,AHHEzB,CGGR,CAAV,GHHa,ACYnB,CDZ8BR,GAAG,CAACS,YAAf,CAAf,4GCYsB;ACN1B,ACFK,AHHDC,ACWsB,MDXtBA,GEKG,CAAC,ADMCyB,GDXE,CAACxB,CEKCyB,ADMa,EDXtB,CEKG,AFLS9B,EEKEsD,MFLd,CEKG,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHHCrE,ACWF,MDXEA,ICWE6C,GAAG,CDXG,CAAC9B,CCWD6B,KAAK,CAACE,CDXN,CAAR,CAH8C,CAI9C,ECUQ,CAAaC,IAAb,CAAkBF,GAA5B;ADTC,ACUDX,MAAAA,MAAM,CAACS,KAAK,EAAN,CAAN,CAAgBK,GAAhB,GAAsBH,GAAtB;ACLJ/C,ACFI6H,AHFD,ACUA,GDtBD,CGcEA,GDEG,CAACrB,MCFM,GAAG,GDEjB,CCFI,EDEmBD,kBAAvB;AACAvG,ACFG,AFE0B,GEXJ,EASpB,EDEE,ACXkB,CDWjB8G,ACXN,UDWF,GAAqBA,UAArB;ACDC,AHHC,ACI2B,MDJvB3G,OAAJ,EAAa;AACXQ,ACGyB,IDHzBA,GAAG,CAACY,WAAJ,GAAkB,UAAAC,CAAC;AGIvBzB,AHJuB,ACGM,MECvB,CAACC,MHHDyB,CGGN,GAAiBqG,SAAjB,QHH2B,CAAC,UAAAtG,CAAC;AAAA,ACEA,eDFIrB,OAAO,CAACuB,eAAR,CAAwB,QAAxB,CAAJ;AAAA,ACEA,ODFF,CADJ;AAAA,ACGM,KDHzB;ACGyB;ADDzBf,ACCyB,IDDzBA,GAAG,CAACgB,OAAJ,GAAc,UAAAC,CAAC;AAAA,ACCU,aDDNP,OAAO,CAACC,GAAR,CAAYM,CAAZ,CAAJ;AAAA,ACCU,KDDzB;ACCyB;ADAzBjB,ACAyB,IDAzBA,GAAG,CAACkB,SAAJ,GAAgB,UAAAL,CAAC;AAAA,ACAQ,aDCvBC,qBAAqB,CAAC,UAAAD,CAAC;AAAA,ACK5B,CAND,cDCiCrB,OAAO,CAAC2B,YAAR,CAAqB,QAArB,EAA+B,MAA/B,CAAJ;AAAA,OAAF,CADN;AAAA,ACOrB,IAAMqB,CDPF,QCOW,GAAG,SAAZA,SAAY,CAAA3B,CAAC,EAAI;ADLpB,ACMD,MAAM4B,WAAW,GAAGnB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAApB;AACA,MAAMmB,QAAQ,GAAGpB,QAAQ,CAACI,sBAAT,CAAgC,SAAhC,CAAjB;ADNA1B,EAAAA,GAAG,CAACoB,IAAJ;AACA,ACMA,MAAMuB,WAAW,GAAG,SAAdA,WAAc,CAAA9B,CAAC,EAAI;AACvB,QAAM+B,MAAM,GAAGH,WAAW,CAACI,SAA3B;AACA,QAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,CAAS1B,QAAQ,CAAC2B,eAAT,CAAyBC,WAAlC,EAA+CC,MAAM,CAACC,UAAP,IAAqB,CAApE,CAAd;AACA,QAAMC,MAAM,GAAGN,IAAI,CAACC,GAAL,CAAS1B,QAAQ,CAAC2B,eAAT,CAAyBK,YAAlC,EAAgDH,MAAM,CAACI,WAAP,IAAsB,CAAtE,CAAf;;AACA,QAAIT,KAAK,GAAG,GAAZ,EAAiB;AACf,UAAIF,MAAM,GAAGtB,QAAQ,CAACkC,IAAT,CAAcC,YAAd,GAA6B;AAAG;AAAzC,SAA8D5B,IAAI,CAAC6B,SAAL,CAAeC,QAAf,CAAwB,SAAxB,CAAlE,EAAsG;AACpG9B,QAAAA,IAAI,CAAC6B,SAAL,CAAeE,OAAf,CAAuB,SAAvB,EAAkC,aAAlC;AACD,OAFD,MAEO,IAAIhB,MAAM,GAAGtB,QAAQ,CAACkC,IAAT,CAAcC,YAAd,GAA6B,EAAtC,IAA4C5B,IAAI,CAAC6B,SAAL,CAAeC,QAAf,CAAwB,aAAxB,CAAhD,EAAwF;AAC7F9B,QAAAA,IAAI,CAAC6B,SAAL,CAAeE,OAAf,CAAuB,aAAvB,EAAsC,SAAtC;AACD;AACF;ADFJ,CA5CD;ACoC2B;AAAA,eDUZtE;ACVY;;AAAA;AAWvB,4BAAoBoD,QAApB,mIAA8B;AAAA,YAArBmB,OAAqB;;AAC5B,YAAIA,OAAO,CAACC,SAAR,GAAoBX,MAAM,CAACY,WAAP,GAAqB,CAAzC,IAA8CnB,MAAlD,EAA0D;AACxDiB,UAAAA,OAAO,CAACH,SAAR,CAAkBM,GAAlB,CAAsB,SAAtB;AACD;AACF;AAfsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBxB,GAhBD;;AAiBAvB,EAAAA,WAAW,CAACwB,gBAAZ,CAA6B,QAA7B,EAAuCtB,WAAvC;AACD,CArBD;;AAuBA,IAAIrB,QAAQ,CAAClB,UAAT,KAAwB,SAA5B,EAAuC;AACrCkB,EAAAA,QAAQ,CAAC2C,gBAAT,CAA0B,kBAA1B,EAA8CzB,SAA9C;AACD,CAFD,MAEO;AACLA,EAAAA,SAAS;AACV;;AAED,wBAAU,gBAAyB;AAAA,MAAtB0B,KAAsB,QAAtBA,KAAsB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACjC,MAAMC,iBAAiB,GAAGF,KAAK,CAAC,CAAD,CAAL,CAAS7B,MAAT,CAAgBgC,iBAAhB,CAAkCC,GAAlC,CACxB,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,GAAH,CAAOD,EAAX;AAAA,GADsB,CAA1B;AAGAvC,EAAAA,UAAU,CACRmC,QAAQ,CAACM,KAAT,CAAeC,MAAf,CAAsB,UAAAvC,KAAK;AAAA,WAAIiC,iBAAiB,CAACD,QAAlB,CAA2BhC,KAAK,CAACqC,GAAN,CAAUD,EAArC,CAAJ;AAAA,GAA3B,CADQ,CAAV;AAGAlD,EAAAA,WAAW,CAACsD,aAAZ,CAA0BC,KAA1B,CAAgCC,eAAhC,kBAA0DV,QAAQ,CAACM,KAAT,CAAe,CAAf,EAAkBpC,MAAlB,CAAyBC,IAAzB,CAA8BF,GAAxF;AACAf,EAAAA,WAAW,CAACyD,WAAZ,GAA0BZ,KAAK,CAAC,CAAD,CAAL,CAAS7B,MAAT,CAAgB0C,QAA1C;AACAnD,EAAAA,YAAY,CAACkD,WAAb,GAA2BZ,KAAK,CAAC,CAAD,CAAL,CAAS7B,MAAT,CAAgB2C,eAA3C;AACAlD,EAAAA,KAAK,CAACgD,WAAN,GAAoBZ,KAAK,CAAC,CAAD,CAAL,CAAS7B,MAAT,CAAgB2C,eAApC;AACA,MAAIC,OAAO,GAAGf,KAAK,CAAC,CAAD,CAAL,CAAS7B,MAAT,CAAgB6C,aAA9B;AACA,MAAIC,IAAI,GAAG,IAAIC,IAAJ,CAASH,OAAT,CAAX;AACAtD,EAAAA,WAAW,CAACR,YAAZ,CAAyB,UAAzB,EAAqC8D,OAArC;AACAtD,EAAAA,WAAW,CAACmD,WAAZ,GAA0BK,IAAI,CAACE,OAAL,KAAiB,MAAjB,GAA0BtD,MAAM,CAACoD,IAAI,CAACG,QAAL,EAAD,CAA1D;AACD,CAfD,EAeG9F,OAfH;;AAiBA2D,MAAM,CAACoC,WAAP,GAAqB,UAAAhB,EAAE,EAAI;AACzBpB,EAAAA,MAAM,CAACqC,KAAP,CAAaC,cAAb;AACAnE,EAAAA,QAAQ,CAACC,cAAT,CAAwBgD,EAAxB,EAA4BmB,cAA5B;AACD,CAHD","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["module.exports = {\n  \"env\": {\n    \"CONTENTFUL_SPACE_ID\": \"glv5vvf55jiq\",\n    \"CONTENTFUL_ACCESS_TOKEN\": \"l8M3azNCTjms7SXHHdli8KkIgOOddch8yXDoIHShnpE\"\n  }\n}\n;","import contentfulApiConfig from \"../config.json\";\n\nconst fetchData = (callback, loading) => {\n  const API_BASE_URL = \"https://cdn.contentful.com\";\n  const API_SPACE_ID = contentfulApiConfig.env.CONTENTFUL_SPACE_ID;\n  const API_TOKEN = contentfulApiConfig.env.CONTENTFUL_ACCESS_TOKEN;\n  var xhr = new XMLHttpRequest();\n  xhr.open(\n    \"GET\",\n    `${API_BASE_URL}/spaces/${API_SPACE_ID}/entries?access_token=${API_TOKEN}`\n  );\n  xhr.onreadystatechange = () => {\n    /*\n        if (xhr.readyState === 3) {\n          requestAnimationFrame(_ => loading.removeAttribute(\"hidden\"));\n        }\n        */\n    if (xhr.readyState === 4 && xhr.status === 200) {\n      let response = JSON.parse(xhr.responseText);\n      console.log(response);\n      callback(response);\n      //requestAnimationFrame(_ => loading.setAttribute(\"hidden\", \"true\"));\n    }\n  };\n  if (loading) {\n    xhr.onloadstart = _ =>\n      requestAnimationFrame(_ => loading.removeAttribute(\"hidden\"));\n    xhr.onerror = e => console.log(e);\n    xhr.onloadend = _ =>\n      requestAnimationFrame(_ => loading.setAttribute(\"hidden\", \"true\"));\n  }\n  xhr.send();\n  /*\n    var client = contentful.createClient({\n      space: \"glv5vvf55jiq\",\n      accessToken: \"l8M3azNCTjms7SXHHdli8KkIgOOddch8yXDoIHShnpE\"\n    });\n    client.getEntry(\"958ve596xfbAQfzzOfjCD\").then(function(entry) {\n      // logs the entry metadata\n      console.log(entry.sys);\n  \n      // logs the field with ID title\n      console.log(entry.fields);\n      banner.src = entry.fields.photos.fields.file.url;\n    });\n    */\n};\n\nexport default fetchData;\n","import \"./styles.css\";\n\n// main.js\nimport fetchData from \"./fetchData\";\n\nconst titleBanner = document.getElementById(\"title-banner\");\nconst loading = document.querySelector(\".loading[hidden]\");\nconst images = document.getElementsByClassName(\"pictures\");\nconst dateElement = document.querySelector(\".wedding-date\");\nconst presentation = document.querySelector(\n  \".section-presentation .presentation\"\n);\nconst menu = document.querySelector('.navbar');\nconst extra = document.querySelector(\".info-extra .infos\");\nconst months = [\n  \"Janeiro\",\n  \"Feveiro\",\n  \"Março\",\n  \"Abril\",\n  \"Maio\",\n  \"Junho\",\n  \"Julho\",\n  \"Agosto\",\n  \"Setembro\",\n  \"Outubro\",\n  \"Novembro\",\n  \"Dezembro\"\n];\nconst loadImages = assets => {\n  var count = 0;\n  for (let asset of assets) {\n    let url = asset.fields.file.url;\n    images[count++].src = url;\n  }\n};\nconst animateit = _ => {\n  const mainContent = document.getElementById(\"main-container\");\n  const sections = document.getElementsByClassName(\"section\");\n  const animatePage = _ => {\n    const curPos = mainContent.scrollTop;\n    const width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    const height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    if (width > 700) {\n      if (curPos > document.body.offsetHeight - 30 /* menu height */ && menu.classList.contains('top-nav')) {\n        menu.classList.replace('top-nav', 'sidebar-nav');\n      } else if (curPos < document.body.offsetHeight - 30 && menu.classList.contains('sidebar-nav')) {\n        menu.classList.replace('sidebar-nav', 'top-nav');\n      }\n    }\n    for (let section of sections) {\n      if (section.offsetTop - window.outerHeight / 2 <= curPos) {\n        section.classList.add(\"animate\");\n      }\n    }\n  };\n  mainContent.addEventListener(\"scroll\", animatePage);\n};\n\nif (document.readyState === 'loading') {\n  document.addEventListener(\"DOMContentLoaded\", animateit);\n} else {\n  animateit();\n}\n\nfetchData(({ items, includes }) => {\n  const idImgPresentation = items[0].fields.imagesLandingPage.map(\n    id => id.sys.id\n  );\n  loadImages(\n    includes.Asset.filter(asset => idImgPresentation.includes(asset.sys.id))\n  );\n  titleBanner.parentElement.style.backgroundImage = `url('${includes.Asset[1].fields.file.url}')`;\n  titleBanner.textContent = items[0].fields.blogText;\n  presentation.textContent = items[0].fields.generalBlogText;\n  extra.textContent = items[0].fields.generalBlogText;\n  var dateStr = items[0].fields.dateOfWedding;\n  var date = new Date(dateStr);\n  dateElement.setAttribute(\"datetime\", dateStr);\n  dateElement.textContent = date.getDate() + \" de \" + months[date.getMonth()];\n}, loading);\n\nwindow.goToSection = id => {\n  window.event.preventDefault();\n  document.getElementById(id).scrollIntoView();\n};\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}